name: Manual Hotfix (Emergency/Fallback)

# This workflow is a FALLBACK for emergency situations.
# For normal hotfixes, use: "Hotfix Start" â†’ "Hotfix Finish" workflows
# Only use this if the gitflow workflows fail or for emergency hotfixes.

on:
  workflow_dispatch:
    inputs:
      git_ref:
        description: 'Git tag to release (e.g., v2.0.15.1). Tag must already exist!'
        required: true
        type: string

jobs:
  publish-hotfix:
    name: Publish hotfix to Maven Central
    uses: entur/ror-gha-workflows/.github/workflows/hotfix-manual.yml@v1
    with:
      git_ref: ${{ inputs.git_ref }}
      java_version: 11
      java_distribution: liberica
      version_tag_prefix: v
    secrets: inherit